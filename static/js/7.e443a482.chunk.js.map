{"version":3,"sources":["Components/MainPage/Messages/Messages.module.css","Components/MainPage/Messages/DialogsUsers.jsx","Components/MainPage/Messages/AddDialogMessageForm.jsx","Components/MainPage/Messages/DialogsMessages.jsx","Redux/selectors/messages-selectors.js","Components/MainPage/Messages/MessagesContainer.jsx"],"names":["module","exports","DialogsUser","props","id","userName","userImg","closeUserList","to","activeClassName","style","active_dialog_user","onClick","className","dialogsUser_wrapper","dialogsUser_img_wrapper","src","alt","dialogsUser_name","DialogsUsers","usersWithDialogs","dialogsUser","map","u","Textarea","Element","maxLength300","maxLengthCreator","AddDialogMessageFormRedux","reduxForm","form","handleSubmit","onSubmit","dialog_message_form","Field","name","component","validate","Messages","message","messages_box","DialogsMessages","dialogsMessages","sendMessage","dialogUserId","openDialogWithUser","openUserList","messages","m","dialogs_messages_block","dialogs_messages_block_isOpen","dialogs_messages_container","dialogs_messages_footer","formValues","newDialogMessage","back_to_listUsers","getUsersWithDialogs","state","messagesPage","getDialogsMessages","getOpenDialogWithUser","compose","connect","closeMenu","openUserslistAction","withRouter","match","params","userId","useEffect","messages_wrapper","messages_users_block","messages_users_block_isHidden","setTimeout"],"mappings":"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","file":"static/js/7.e443a482.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"messages_wrapper\":\"Messages_messages_wrapper__8RFkc\",\"messages_users_block\":\"Messages_messages_users_block__1IjPP\",\"dialogsUser_wrapper\":\"Messages_dialogsUser_wrapper__WPe60\",\"dialogsUser_img_wrapper\":\"Messages_dialogsUser_img_wrapper__2TjEt\",\"dialogsUser_name\":\"Messages_dialogsUser_name__3jZLj\",\"active_dialog_user\":\"Messages_active_dialog_user__PqTAG\",\"dialogs_messages_block\":\"Messages_dialogs_messages_block__2zgW0\",\"dialogs_messages_container\":\"Messages_dialogs_messages_container__3fZZr\",\"messages_box\":\"Messages_messages_box__TpBp0\",\"dialogs_messages_footer\":\"Messages_dialogs_messages_footer__38v8w\",\"dialog_message_form\":\"Messages_dialog_message_form__1q8aW\",\"back_to_listUsers\":\"Messages_back_to_listUsers__3z9V-\",\"messages_users_block_isHidden\":\"Messages_messages_users_block_isHidden__L8PxB\",\"dialogs_messages_block_isOpen\":\"Messages_dialogs_messages_block_isOpen__2bNbR\"};","import {NavLink} from \"react-router-dom\";\r\nimport style from \"./Messages.module.css\";\r\nimport React from \"react\";\r\n\r\nconst DialogsUser = (props) => {\r\n\r\n\tconst {id, userName, userImg, closeUserList} = props\r\n\r\n\treturn (\r\n\t\t<NavLink to={\"/messages/\" + id} activeClassName={style.active_dialog_user} onClick={closeUserList}>\r\n\t\t\t<div className={style.dialogsUser_wrapper}>\r\n\t\t\t\t<div className={style.dialogsUser_img_wrapper}>\r\n\t\t\t\t\t<img src={userImg} alt=\"user_avatar\"/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<span className={style.dialogsUser_name}>{userName}</span>\r\n\t\t\t</div>\r\n\t\t</NavLink>\r\n\t);\r\n}\r\n\r\nconst DialogsUsers = (props) => {\r\n\r\n\tconst {usersWithDialogs, closeUserList} = props\r\n\r\n\tconst dialogsUser = usersWithDialogs.map(u => <DialogsUser key={u.id} {...u} closeUserList={closeUserList}/>)\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{dialogsUser}\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default DialogsUsers;","import React from \"react\";\r\nimport style from \"./Messages.module.css\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {Element} from \"../../Common/FormControls/FormControls\";\r\nimport {maxLengthCreator} from \"../../../utils/validators\";\r\n\r\nconst Textarea = Element(\"textarea\")\r\nconst maxLength300 = maxLengthCreator(300)\r\n\r\nconst AddDialogMessageForm = (props) => {\r\n\r\n\tconst {handleSubmit} = props\r\n\r\n\treturn (\r\n\t\t<form onSubmit={handleSubmit} className={style.dialog_message_form}>\r\n\t\t\t<Field name={\"newDialogMessage\"} component={Textarea} validate={[maxLength300]}/>\r\n\t\t\t<button>Send message</button>\r\n\t\t</form>\r\n\t)\r\n}\r\n\r\nconst AddDialogMessageFormRedux = reduxForm({form: \"addDialogMessageForm\"})(AddDialogMessageForm);\r\n\r\nexport default AddDialogMessageFormRedux;","import React from \"react\";\r\nimport style from \"./Messages.module.css\";\r\nimport AddDialogMessageFormRedux from \"./AddDialogMessageForm\";\r\n\r\nconst Messages = (props) => {\r\n\r\n\tconst {message} = props\r\n\r\n\treturn (\r\n\t\t<div className={style.messages_box}>\r\n\t\t\t<p>{message}</p>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nconst DialogsMessages = (props) => {\r\n\r\n\tconst {dialogsMessages, sendMessage, dialogUserId, openDialogWithUser, openUserList} = props\r\n\tconst messages = dialogsMessages.map(m => <Messages key={m.id} message={m.message}/>)\r\n\r\n\tconst addNewDialogMessage = (formValues) => {\r\n\t\tsendMessage(dialogUserId, formValues.newDialogMessage)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className={`${style.dialogs_messages_block} ${openDialogWithUser && style.dialogs_messages_block_isOpen}`}>\r\n\t\t\t<div className={style.dialogs_messages_container}>\r\n\t\t\t\t{messages}\r\n\t\t\t</div>\r\n\t\t\t<div className={style.dialogs_messages_footer}>\r\n\t\t\t\t<AddDialogMessageFormRedux onSubmit={addNewDialogMessage}/>\r\n\t\t\t</div>\r\n\t\t\t<div className={style.back_to_listUsers}><button onClick={openUserList}>{\"<< back\"}</button></div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default DialogsMessages;","export const getUsersWithDialogs = (state) => {\r\n\treturn state.messagesPage.usersWithDialogs\r\n}\r\n\r\nexport const getDialogsMessages = (state) => {\r\n\treturn state.messagesPage.dialogsMessages\r\n}\r\n\r\nexport const getOpenDialogWithUser = (state) => {\r\n\treturn state.messagesPage.openDialogWithUser\r\n}","import React, {useEffect} from \"react\";\r\nimport style from \"./Messages.module.css\";\r\nimport {connect} from \"react-redux\";\r\nimport DialogsUsers from \"./DialogsUsers\";\r\nimport DialogsMessages from \"./DialogsMessages\";\r\nimport {openUserslistAction, sendMessage} from \"../../../Redux/messages-reducer\";\r\nimport {compose} from \"redux\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {getDialogsMessages, getOpenDialogWithUser, getUsersWithDialogs} from \"../../../Redux/selectors/messages-selectors\";\r\nimport {closeMenu} from \"../../../Redux/side-bar-reducer\";\r\n\r\nconst MessagesContainer = (props) => {\r\n\r\n\tconst dialogUserId = props.match.params.userId\r\n\tconst {usersWithDialogs, dialogsMessages, sendMessage, closeMenu, openDialogWithUser, openUserslistAction} = props\r\n\r\n\t// close the menu after rendering the selected component\r\n\tuseEffect(() => {closeMenu()},[])\r\n\r\n\tconst openUserList = () => setTimeout(() => openUserslistAction(false), 250)\r\n\r\n\tconst closeUserList = () => setTimeout(() => openUserslistAction(true), 250)\r\n\r\n\treturn (\r\n\t\t<div className={style.messages_wrapper}>\r\n\t\t\t<div className={`${style.messages_users_block} ${openDialogWithUser && style.messages_users_block_isHidden}`}>\r\n\t\t\t\t<DialogsUsers closeUserList={closeUserList} usersWithDialogs={usersWithDialogs}/>\r\n\t\t\t</div>\r\n\t\t\t<DialogsMessages openUserList={openUserList} dialogUserId={dialogUserId} sendMessage={sendMessage} dialogsMessages={dialogsMessages} openDialogWithUser={openDialogWithUser}/>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tusersWithDialogs: getUsersWithDialogs(state),\r\n\tdialogsMessages: getDialogsMessages(state),\r\n\topenDialogWithUser: getOpenDialogWithUser(state)\r\n})\r\n\r\nexport default compose(\r\n\tconnect(mapStateToProps, {sendMessage, closeMenu, openUserslistAction}),\r\n\twithRouter\r\n)(MessagesContainer);"],"sourceRoot":""}