{"version":3,"sources":["Components/Common/FormControls/FormControls.js","api/api.js","Components/Aside/Aside.module.css","Redux/side-bar-reducer.js","Redux/auth-reducer.js","Redux/app-reducer.js","Redux/redux-store.js","Components/LoginForm.jsx","Components/Login.jsx","Components/Header/Header.jsx","Components/Header/HeaderContainer.jsx","Components/Aside/AvatarsContainer/AvatarsContainer.jsx","Components/Aside/Aside.jsx","hoc/hocWithLazyLoad.js","Components/MainPage/MainPage.jsx","App.js","index.js","Components/Login.module.css","Components/Common/Preloader/Preloader.jsx","Components/Common/FormControls/FormControl.module.css","Components/Header/Header.module.css","utils/validators.js","Components/Common/Preloader/Preloader.module.css","Redux/profile-reducer.js","Redux/users-reducer.js","Redux/messages-reducer.js"],"names":["Element","input","meta","props","hasErrors","touched","error","className","style","form_control","errorMessage","instance","axios","baseURL","withCredentials","headers","profileAPI","getProfile","userId","get","getStatus","then","response","data","updateUserStatus","status","put","updateBioProfile","profile","savePhoto","photoFile","formData","FormData","append","usersAPI","getUsers","currentPage","pageSize","authAPI","me","login","email","password","rememberMe","captcha","post","logout","delete","subscribeAPI","follow","unfollow","securityAPI","getCaptcha","module","exports","initialState","avatarsData","id","userImg","userName","sideBarReducer","state","action","type","SET_USER_DATA","SET_CAPTCHA","SET_OWNER","isAuth","isOwner","captchaUrl","setUserData","payload","setCaptchaUrl","setOwner","owner","getAuthUserData","dispatch","a","resultCode","getCaptchaUrl","url","authReducer","INITIALIZED_SUCCESS","initialized","appReducer","reducers","combineReducers","sideBar","usersPage","usersReducer","auth","app","profilePage","profileReducer","messagesPage","messagesReducer","form","formReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","Input","LoginReduxForm","reduxForm","handleSubmit","onSubmit","login_form","Field","name","placeholder","component","validate","required","login_captcha","src","alt","connect","to","login_wrapper","login_box","values","header","logo","onClick","actionLogout_box","Header","AvatarItem","avatarName","avatarImg","avatar_wrapper","img_wrapper","user_name","avatarItem","map","avatar","avatars_wrapper","avatars_box","Aside","aside","nav","activeClassName","active_link","hocWithLazyLoad","Component","Suspense","fallback","Preloader","ProfileContainer","React","lazy","MessagesContainer","Music","Notifications","UsersContainer","Settings","MainPage","exact","path","render","startInitialize","promiseMe","Promise","all","useEffect","ReactDOM","base","document","getElementById","preloader_wrapper","fetching","value","maxLengthCreator","maxLength","length","SET_PROFILE","SET_POST","SET_STATUS","SET_UPDATE_BIO_SUCCESS","SET_UPLOADED_PHOTO","updatingBioSuccess","postData","message","likesCount","img","setUserStatus","setUpdateBioSuccess","successStatus","addPostMessage","setPostMessage","reset","getUserProfile","getUserStatus","getState","userid","photo","photos","updateWasSuccessfully","refreshProfileInSettings","replace","SET_USERS_DATA","SET_TOTAL_COUNT","SET_CURRENT_PAGE","SET_TOGGLE_FOLLOW","SET_IS_FETCHING","SET_FOLLOWING_IN_PROGRESS","users","totalCount","isFetching","followingInProgress","setCurrentPage","setToggleFollow","setIsFetching","setFollowingInProgress","isFollowing","requestUsers","items","followAccept","unfollowAccept","filter","u","followed","SEND_MY_MESSAGE_TEXT","usersWithDialogs","dialogsMessages","sendMessage","body","sendMyMessage"],"mappings":"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","file":"static/js/main.b431657d.chunk.js","sourcesContent":["import React from \"react\";\r\nimport style from \"./FormControl.module.css\";\r\n\r\n\r\nexport const Element = Element => ({input, meta, ...props}) => {\r\n\tconst hasErrors = meta.touched && meta.error\r\n\treturn (\r\n\t\t<div className={`${style.form_control} ${hasErrors && style.error}`}>\r\n\t\t\t{hasErrors && <span className={style.errorMessage}>{meta.error}</span>}\r\n\t\t\t<Element {...input} {...props} />\r\n\t\t</div>\r\n\t)\r\n};","import * as axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n\tbaseURL: `https://social-network.samuraijs.com/api/1.0/`,\r\n\twithCredentials: true,\r\n\theaders: {\r\n\t\t'API-KEY': 'a1cfc85a-7e70-4120-8bed-62fbd526678c'\r\n\t\t// 'API-KEY': 'bb8e013c-9223-4dee-8a5a-b96156c04ec6'\r\n\t}\r\n})\r\n\r\nexport const profileAPI = {\r\n\tgetProfile(userId) {\r\n\t\treturn instance.get(`profile/${userId}`)\r\n\t},\r\n\tgetStatus(userId) {\r\n\t\treturn instance.get(`profile/status/${userId}`).then(response => response.data)\r\n\t},\r\n\tupdateUserStatus(status) {\r\n\t\treturn instance.put(`profile/status`, {status}).then(response => response.data)\r\n\t},\r\n\tupdateBioProfile(profile) {\r\n\t\treturn instance.put(`profile`, profile).then(response => response.data)\r\n\t},\r\n\tsavePhoto(photoFile) {\r\n\t\tconst formData = new FormData()\r\n\t\tformData.append(\"image\", photoFile)\r\n\t\treturn instance.put(`profile/photo`, formData, {\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'multipart/form-data'\r\n\t\t\t}\r\n\t\t}).then(response => response.data)\r\n\t}\r\n\r\n}\r\n\r\nexport const usersAPI = {\r\n\tgetUsers(currentPage, pageSize) {\r\n\t\treturn instance.get(`users?page=${currentPage}&count=${pageSize}`).then(response => response.data)\r\n\t}\r\n}\r\n\r\nexport const authAPI = {\r\n\tme() {\r\n\t\treturn instance.get(`auth/me`).then(response => response.data)\r\n\t},\r\n\tlogin(email, password, rememberMe = false, captcha = null) {\r\n\t\treturn instance.post(`auth/login`, {email, password, rememberMe, captcha}).then(response => response.data)\r\n\t},\r\n\tlogout() {\r\n\t\treturn instance.delete(`auth/login`).then(response => response.data)\r\n\t}\r\n}\r\n\r\nexport const subscribeAPI = {\r\n\tfollow(userId) {\r\n\t\treturn instance.post(`follow/${userId}`).then(response => response.data)\r\n\t},\r\n\tunfollow(userId) {\r\n\t\treturn instance.delete(`follow/${userId}`).then(response => response.data)\r\n\t}\r\n}\r\n\r\nexport const securityAPI = {\r\n\tgetCaptcha() {\r\n\t\treturn instance.get(`security/get-captcha-url`).then(response => response.data)\r\n\t}\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"aside\":\"Aside_aside__11b96\",\"nav\":\"Aside_nav__LAQWh\",\"active_link\":\"Aside_active_link__6zfJc\",\"avatars_wrapper\":\"Aside_avatars_wrapper__2968D\",\"avatars_box\":\"Aside_avatars_box__Nq9mM\",\"avatar_wrapper\":\"Aside_avatar_wrapper__vA0o8\",\"img_wrapper\":\"Aside_img_wrapper___ILMY\",\"user_name\":\"Aside_user_name__32glW\"};","// initial state for side-bar avatars (static)\r\nconst initialState = {\r\n\tavatarsData: [\r\n\t\t{\r\n\t\t\tid: 0,\r\n\t\t\tuserImg: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT6b7WENFquctsWy8WgMSHmFJbVyJXf0lQ4R2XRAQcd2WgOK2IIfFlLUFcAcsdnpA8S_Wg&usqp=CAU',\r\n\t\t\tuserName: 'Andy'\r\n\t\t},\r\n\t\t{\r\n\t\t\tid: 1,\r\n\t\t\tuserImg: 'https://image1.thematicnews.com/uploads/images/00/00/41/2015/04/30/ad358ed4d0.jpg',\r\n\t\t\tuserName: 'Panda'\r\n\t\t},\r\n\t\t{\r\n\t\t\tid: 2,\r\n\t\t\tuserImg: 'https://wonder-day.com/wp-content/uploads/2020/03/Wonder-Day-Ava-105.jpg',\r\n\t\t\tuserName: 'Dasha'\r\n\t\t},\r\n\t\t{\r\n\t\t\tid: 3,\r\n\t\t\tuserImg: 'https://www.meme-arsenal.com/memes/f0ffafb204862b25d0f1aa7fce251f3a.jpg',\r\n\t\t\tuserName: 'Niko'\r\n\t\t},\r\n\t\t{\r\n\t\t\tid: 4,\r\n\t\t\tuserImg: 'https://drasler.ru/wp-content/uploads/2019/05/%D0%94%D0%B5%D0%B2%D1%83%D1%88%D0%BA%D0%B0-%D0%B1%D1%80%D1%8E%D0%BD%D0%B5%D1%82%D0%BA%D0%B0-%D0%BD%D0%B0%D1%80%D0%B8%D1%81%D0%BE%D0%B2%D0%B0%D0%BD%D0%BD%D0%B0%D1%8F-%D0%BA%D0%B0%D1%80%D1%82%D0%B8%D0%BD%D0%BA%D0%B8-%D0%B8-%D1%80%D0%B8%D1%81%D1%83%D0%BD%D0%BA%D0%B8023.jpg',\r\n\t\t\tuserName: 'July'\r\n\t\t},\r\n\t\t{\r\n\t\t\tid: 5,\r\n\t\t\tuserImg: 'https://i2.wp.com/andrey-eltsov.ru/wp-content/uploads/2017/09/DopNaAvu1.jpg',\r\n\t\t\tuserName: 'Vlad'\r\n\t\t}\r\n\t]\r\n}\r\n\r\nconst sideBarReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nexport default sideBarReducer;","import {authAPI, securityAPI} from \"../api/api\";\r\n\r\nconst SET_USER_DATA = \"SET_USER_DATA\"\r\nconst SET_CAPTCHA = \"SET_CAPTCHA\"\r\nconst SET_OWNER = \"SET_OWNER\"\r\n\r\nlet initialState = {\r\n\tid: null,\r\n\temail: null,\r\n\tlogin: null,\r\n\tisAuth: false,\r\n\tisOwner: false,\r\n\tcaptchaUrl: null\r\n}\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\r\n\t\tcase SET_USER_DATA:\r\n\t\t\treturn {...state, ...action.payload}\r\n\r\n\t\tcase SET_CAPTCHA:\r\n\t\t\treturn {...state, captchaUrl: action.payload}\r\n\r\n\t\tcase SET_OWNER:\r\n\t\t\treturn {...state, isOwner: action.payload}\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\n//action creators\r\nexport const setUserData = (id, email, login, isAuth) => ({type: SET_USER_DATA, payload: {id, email, login, isAuth}})\r\nexport const setCaptchaUrl = (captchaUrl) => ({type: SET_CAPTCHA, payload: captchaUrl})\r\nexport const setOwner = (owner) => ({type: SET_OWNER, payload: owner})\r\n\r\n\r\n// thunk creators\r\n\r\n// receive authorized user data\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n\tlet data = await authAPI.me()\r\n\tif (data.resultCode === 0) {\r\n\t\tlet {id, email, login} = data.data\r\n\t\tdispatch(setUserData(id, email, login, true))\r\n\t\tdispatch(setOwner(true))\r\n\t}\r\n}\r\n\r\n// login\r\nexport const login = (email, password, rememberMe, captcha) => async (dispatch) => {\r\n\tconst data = await authAPI.login(email, password, rememberMe, captcha)\r\n\tif (data.resultCode === 0) {\r\n\t\tdispatch(getAuthUserData())\r\n\t} else {\r\n\t\tif (data.resultCode === 10) {\r\n\t\t\tdispatch(getCaptchaUrl())\r\n\t\t}\r\n\t}\r\n}\r\n\r\n// logout\r\nexport const logout = () => async (dispatch) => {\r\n\tconst data = await authAPI.logout()\r\n\tif (data.resultCode === 0) {\r\n\t\tdispatch(setUserData(null, null, null, false))\r\n\t\tdispatch(setCaptchaUrl(null))\r\n\t\tdispatch(setOwner(false))\r\n\t}\r\n}\r\n\r\n// receive captcha\r\nexport const getCaptchaUrl = () => async (dispatch) => {\r\n\tdebugger\r\n\tconst data = await securityAPI.getCaptcha()\r\n\tdispatch(setCaptchaUrl(data.url))\r\n}\r\n\r\n\r\nexport default authReducer;","import {getAuthUserData} from \"./auth-reducer\";\r\n\r\nconst INITIALIZED_SUCCESS = \"INITIALIZED_SUCCESS\"\r\n\r\nconst initialState = {\r\n\tinitialized: false\r\n}\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\r\n\t\tcase INITIALIZED_SUCCESS:\r\n\t\t\treturn {...state, initialized: true}\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\n//action creators\r\nexport const initializeSuccess = () => ({type: INITIALIZED_SUCCESS})\r\n\r\n\r\n//thunk creators\r\n\r\n//initialization application\r\nexport const startInitialize = () => (dispatch) => {\r\n\tconst promiseMe = dispatch(getAuthUserData())\r\n\tPromise.all([promiseMe]).then(() => {\r\n\t\tdispatch(initializeSuccess())\r\n\t})\r\n}\r\n\r\nexport default appReducer;","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport {reducer as formReducer} from \"redux-form\"\r\nimport sideBarReducer from \"./side-bar-reducer\";\r\nimport usersReducer from \"./users-reducer\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport appReducer from \"./app-reducer\";\r\nimport profileReducer from \"./profile-reducer\";\r\nimport messagesReducer from \"./messages-reducer\";\r\n\r\nconst reducers = combineReducers({\r\n\tsideBar: sideBarReducer,\r\n\tusersPage: usersReducer,\r\n\tauth: authReducer,\r\n\tapp: appReducer,\r\n\tprofilePage: profileReducer,\r\n\tmessagesPage: messagesReducer,\r\n\tform: formReducer\r\n})\r\n\r\n// this is for the redux tool in the browser\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)))\r\n\r\nwindow.store = store;\r\n\r\nexport default store;","import {Element} from \"./Common/FormControls/FormControls\";\r\nimport style from \"./Login.module.css\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {required} from \"../utils/validators\";\r\nimport React from \"react\";\r\n\r\nconst Input = Element(\"input\")\r\n\r\nconst LoginForm = ({handleSubmit, captchaUrl}) => {\r\n\treturn (\r\n\t\t<form onSubmit={handleSubmit} className={style.login_form} action=\"\">\r\n\t\t\t<h5>Login</h5>\r\n\t\t\t<span>\r\n\t\t\t\t<Field name=\"email\" placeholder=\"email\" component={Input} validate={[required]}/>\r\n\t\t\t</span>\r\n\t\t\t<span>\r\n\t\t\t\t<Field name=\"password\" type=\"password\" placeholder=\"password\" component={Input} validate={[required]}/>\r\n\t\t\t</span>\r\n\t\t\t<label>\r\n\t\t\t\t<Field name=\"rememberMe\" component={Input} type=\"checkbox\"/>\r\n\t\t\t\t<span>Remember me</span>\r\n\t\t\t</label>\r\n\t\t\t{captchaUrl && <span className={style.login_captcha}>\r\n\t\t\t\t<Field name=\"captcha\" placeholder=\"captcha\" component={Input}/>\r\n\t\t\t\t<img src={captchaUrl} alt=\"captcha\"/>\r\n\t\t\t</span>}\r\n\t\t\t<div>\r\n\t\t\t\t<button>Login</button>\r\n\t\t\t</div>\r\n\t\t</form>\r\n\t);\r\n}\r\n\r\nconst LoginReduxForm = reduxForm({form: \"login\"})(LoginForm)\r\n\r\nexport default LoginReduxForm;","import React from 'react';\r\nimport style from './Login.module.css'\r\nimport {connect} from \"react-redux\";\r\nimport {login} from \"../Redux/auth-reducer\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport LoginReduxForm from \"./LoginForm\";\r\n\r\nconst Login = (props) => {\r\n\r\n\tconst {isAuth, login, captchaUrl} = props\r\n\r\n\tconst onSubmit = (values) => login(values.email, values.password, values.rememberMe, values.captcha)\r\n\r\n\tif(isAuth) return <Redirect to=\"/profile\"/>\r\n\r\n\treturn (\r\n\t\t<div className={style.login_wrapper}>\r\n\t\t\t<div className={style.login_box}>\r\n\t\t\t\t<LoginReduxForm onSubmit={onSubmit} captchaUrl={captchaUrl}/>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tisAuth: state.auth.isAuth,\r\n\tcaptchaUrl: state.auth.captchaUrl\r\n})\r\n\r\nexport default connect(mapStateToProps, {login})(Login);","import React from \"react\";\r\nimport style from \"./Header.module.css\";\r\nimport {connect} from \"react-redux\";\r\nimport {logout} from \"../../Redux/auth-reducer\";\r\n\r\nconst HeaderContainer = (props) => {\r\n\r\n\tconst {logout} = props\r\n\r\n\tconst getLogout = () => logout()\r\n\r\n\treturn (\r\n\t\t<header className={style.header}>\r\n\t\t\t<div className={style.logo}>LOGO</div>\r\n\t\t\t<div onClick={getLogout} className={style.actionLogout_box}>logout</div>\r\n\t\t</header>\r\n\t);\r\n}\r\n\r\nexport default connect(null, {logout})(HeaderContainer);","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport Header from \"./Header\";\r\nimport {logout} from \"../../Redux/auth-reducer\";\r\n\r\nconst HeaderContainer = (props) => {\r\n\r\n\treturn <Header {...props}/>\r\n}\r\n\r\nexport default connect(null, {logout})(HeaderContainer);","import style from \"../Aside.module.css\";\r\nimport {connect} from \"react-redux\";\r\nimport React from \"react\";\r\n\r\nconst AvatarItem = ({avatarName, avatarImg}) => {\r\n\treturn (\r\n\t\t<div className={style.avatar_wrapper}>\r\n\t\t\t<div className={style.img_wrapper}>\r\n\t\t\t\t<img src={avatarImg} alt=\"userAvatar\"/>\r\n\t\t\t</div>\r\n\t\t\t<span className={style.user_name}>{avatarName}</span>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nconst AvatarsContainer = ({avatarsData}) => {\r\n\r\n\t// get an avatar object from the incoming array in props\r\n\tconst avatarItem = avatarsData.map(avatar => <AvatarItem key={avatar.id} avatarName={avatar.userName} avatarImg={avatar.userImg}/> )\r\n\r\n\treturn (\r\n\t\t<div className={style.avatars_wrapper}>\r\n\t\t\t<h5>Users</h5>\r\n\t\t\t<div className={style.avatars_box}>\r\n\t\t\t\t{avatarItem}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nconst mapStateToProps = state => ({avatarsData: state.sideBar.avatarsData})\r\n\r\n// connected avatars container to store\r\nexport default connect(mapStateToProps, null)(AvatarsContainer);","import React from \"react\";\r\nimport style from \"./Aside.module.css\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport ConnectedAvatarsContainer from \"./AvatarsContainer/AvatarsContainer\";\r\n\r\nconst Aside = () => {\r\n\treturn (\r\n\t\t<aside className={style.aside}>\r\n\t\t\t\t<ul className={style.nav}>\r\n\t\t\t\t\t<li><NavLink to=\"/profile\" activeClassName={style.active_link}><span>Profile</span></NavLink></li>\r\n\t\t\t\t\t<li><NavLink to=\"/messages\" activeClassName={style.active_link}><span>Messages</span></NavLink></li>\r\n\t\t\t\t\t<li><NavLink to=\"/music\" activeClassName={style.active_link}><span>Music</span></NavLink></li>\r\n\t\t\t\t\t<li><NavLink to=\"/notifications\" activeClassName={style.active_link}><span>Notifications</span></NavLink></li>\r\n\t\t\t\t\t<li><NavLink to=\"/users\" activeClassName={style.active_link}><span>Users</span></NavLink></li>\r\n\t\t\t\t\t<li><NavLink to=\"/settings\" activeClassName={style.active_link}><span>Settings</span></NavLink></li>\r\n\t\t\t\t</ul>\r\n\t\t\t<div>\r\n\t\t\t\t<ConnectedAvatarsContainer/>\r\n\t\t\t</div>\r\n\t\t</aside>\r\n\t);\r\n}\r\n\r\nexport default Aside;","import React from \"react\";\r\nimport Preloader from \"../Components/Common/Preloader/Preloader\";\r\n\r\nexport const hocWithLazyLoad = (Component) => {\r\n\treturn (props) => (\r\n\t\t<React.Suspense fallback={<Preloader />}>\r\n\t\t\t<Component {...props} />\r\n\t\t</React.Suspense>\r\n\t);\r\n}","import React from \"react\";\r\nimport {Redirect, Route} from \"react-router-dom\";\r\n\r\nimport {hocWithLazyLoad} from \"../../hoc/hocWithLazyLoad\";\r\n\r\n// components with lazy load\r\nconst ProfileContainer = React.lazy(() => import(\"./Profile/ProfileContainer\"));\r\nconst MessagesContainer = React.lazy(() => import(\"./Messages/MessagesContainer\"));\r\nconst Music = React.lazy(() => import(\"./Music/Music\"));\r\nconst Notifications = React.lazy(() => import(\"./Notifications/Notifications\"));\r\nconst UsersContainer = React.lazy(() => import(\"./Users/UsersContainer\"));\r\nconst Settings = React.lazy(() => import(\"./Settings/SettingsContainer\"));\r\n\r\nconst MainPage = () => {\r\n\treturn (\r\n\t\t<div className=\"main_page\">\r\n\t\t\t<Route exact path=\"/\" render={() => <Redirect to=\"/profile\"/>} />\r\n\t\t\t<Route path=\"/profile/:userId?\" render={hocWithLazyLoad(ProfileContainer)} />\r\n\t\t\t<Route path=\"/messages/:userId?\" render={hocWithLazyLoad(MessagesContainer)} />\r\n\t\t\t<Route path=\"/music\" render={hocWithLazyLoad(Music)} />\r\n\t\t\t<Route path=\"/notifications\" render={hocWithLazyLoad(Notifications)} />\r\n\t\t\t<Route path=\"/users\" render={hocWithLazyLoad(UsersContainer)} />\r\n\t\t\t<Route path=\"/settings\" render={hocWithLazyLoad(Settings)} />\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default MainPage;","import React, {useEffect} from \"react\";\nimport './App.css';\nimport Login from \"./Components/Login\";\nimport HeaderContainer from \"./Components/Header/HeaderContainer\";\nimport Aside from \"./Components/Aside/Aside\";\nimport MainPage from \"./Components/MainPage/MainPage\";\nimport {connect} from \"react-redux\";\nimport {startInitialize} from \"./Redux/app-reducer\";\nimport Preloader from \"./Components/Common/Preloader/Preloader\";\n\nconst App = ({initialized, startInitialize, isAuth}) => {\n\n\tuseEffect(() => {startInitialize()}, [])\n\n\tif (!initialized) return <Preloader />\n\n\tif (!isAuth) return <Login/>\n\n\treturn (\n\t\t<div className=\"App\">\n\t\t\t<HeaderContainer/>\n\t\t\t<main className=\"main_wrapper\">\n\t\t\t\t<Aside/>\n\t\t\t\t<MainPage/>\n\t\t\t</main>\n\t\t</div>\n\t);\n}\n\nconst mapStateToProps = (state) => ({\n\tinitialized: state.app.initialized,\n\tisAuth: state.auth.isAuth\n})\n\nexport default connect(mapStateToProps, {startInitialize})(App);\n","import store from \"./Redux/redux-store\"\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport {BrowserRouter, HashRouter} from \"react-router-dom\";\nimport {Provider} from \"react-redux\";\n\nReactDOM.render(\n\t<HashRouter base={\"/\"}>\n\t\t<Provider store={store}>\n\t\t\t<App/>\n\t\t</Provider>\n\t</HashRouter>,\n\tdocument.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"login_wrapper\":\"Login_login_wrapper__33QG2\",\"login_box\":\"Login_login_box__mubJU\",\"login_form\":\"Login_login_form__2y_Z_\",\"login_captcha\":\"Login_login_captcha__2A5do\"};","import React from \"react\";\r\nimport style from \"./Preloader.module.css\";\r\n\r\nconst Preloader = () => {\r\n\treturn (\r\n\t\t<div className={style.preloader_wrapper}>\r\n\t\t\t<div className={style.fetching}>\r\n\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Preloader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form_control\":\"FormControl_form_control__3j1S1\",\"error\":\"FormControl_error__3Jt8C\",\"errorMessage\":\"FormControl_errorMessage__3jpv-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1Sdb4\",\"logo\":\"Header_logo__3IA6t\",\"actionLogout_box\":\"Header_actionLogout_box__w54Gz\"};","export const required = value => {\r\n\tif(value) return undefined;\r\n\treturn \"field is required\";\r\n}\r\n\r\nexport const maxLengthCreator = maxLength => value => {\r\n\tif(value && value.length > maxLength) return `Max length is ${maxLength} symbols`;\r\n\treturn undefined;\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader_wrapper\":\"Preloader_preloader_wrapper__2-yzO\",\"fetching\":\"Preloader_fetching__2T72x\",\"search-fetching\":\"Preloader_search-fetching__2v8MP\"};","import {profileAPI} from \"../api/api\";\r\nimport {reset} from \"redux-form\";\r\n\r\nconst SET_PROFILE = \"SET_PROFILE\"\r\nconst SET_POST = \"SET_POST\"\r\nconst SET_STATUS = \"SET_STATUS\"\r\nconst SET_UPDATE_BIO_SUCCESS = \"SET_UPDATE_BIO_SUCCESS\"\r\nconst SET_UPLOADED_PHOTO = \"SET_UPLOADED_PHOTO\"\r\n\r\nconst initialState = {\r\n\tprofile: null,\r\n\tstatus: null,\r\n\tupdatingBioSuccess: \"\",\r\n\tpostData: [\r\n\t\t{\r\n\t\t\tid: 0,\r\n\t\t\tname: 'Vlad',\r\n\t\t\tmessage: 'hi',\r\n\t\t\tlikesCount: '150',\r\n\t\t\timg: 'https://i2.wp.com/andrey-eltsov.ru/wp-content/uploads/2017/09/DopNaAvu1.jpg'\r\n\t\t},\r\n\t\t{\r\n\t\t\tid: 1,\r\n\t\t\tname: 'Panda',\r\n\t\t\tmessage: 'hi, are u there??',\r\n\t\t\tlikesCount: '35',\r\n\t\t\timg: 'https://image1.thematicnews.com/uploads/images/00/00/41/2015/04/30/ad358ed4d0.jpg'\r\n\t\t},\r\n\t\t{\r\n\t\t\tid: 2,\r\n\t\t\tname: 'Dasha',\r\n\t\t\tmessage: 'hi, how are u?',\r\n\t\t\tlikesCount: '1536',\r\n\t\t\timg: 'https://wonder-day.com/wp-content/uploads/2020/03/Wonder-Day-Ava-105.jpg'\r\n\t\t},\r\n\t]\r\n}\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\r\n\t\tcase SET_PROFILE:\r\n\t\t\treturn {...state, profile: action.payload}\r\n\r\n\t\tcase SET_STATUS:\r\n\t\t\treturn {...state, status: action.payload}\r\n\r\n\t\tcase SET_UPDATE_BIO_SUCCESS:\r\n\t\t\treturn {...state, updatingBioSuccess: action.payload}\r\n\r\n\t\tcase SET_UPLOADED_PHOTO:\r\n\t\t\treturn {...state, profile: {...state.profile, photos: action.payload}}\r\n\r\n\t\tcase SET_POST:\r\n\t\t\tif (action.payload && action.payload.replace(/\\s/g, \"\")) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...state, postData: [...state.postData, {\r\n\t\t\t\t\t\tid: 3,\r\n\t\t\t\t\t\tname: \"Dasha\",\r\n\t\t\t\t\t\tmessage: action.payload,\r\n\t\t\t\t\t\tlikesCount: 0,\r\n\t\t\t\t\t\timg: \"https://wonder-day.com/wp-content/uploads/2020/03/Wonder-Day-Ava-105.jpg\"\r\n\t\t\t\t\t}]\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn state\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\n// action creators\r\nexport const setUserProfile = (profile) => ({type: SET_PROFILE, payload: profile})\r\nexport const setPostMessage = (message) => ({type: SET_POST, payload: message})\r\nexport const setUserStatus = (status) => ({type: SET_STATUS, payload: status})\r\nexport const setUpdateBioSuccess = (successStatus) => ({type: SET_UPDATE_BIO_SUCCESS, payload: successStatus})\r\nexport const setUploadedPhoto = (photos) => ({type: SET_UPLOADED_PHOTO, payload: photos})\r\n\r\n\r\n// thunk creators\r\n\r\n// adding post on profile page\r\nexport const addPostMessage = (message) => (dispatch) => {\r\n\tdispatch(setPostMessage(message))\r\n\tdispatch(reset(\"postMessageForm\"))\r\n}\r\n\r\n// receive user profile data\r\nexport const getUserProfile = (userId) => async (dispatch) => {\r\n\tconst data = await profileAPI.getProfile(userId)\r\n\tdispatch(setUserProfile(data.data))\r\n}\r\n\r\nexport const getUserStatus = (userId) => async (dispatch) => {\r\n\tconst data = await profileAPI.getStatus(userId)\r\n\tdispatch(setUserStatus(data))\r\n}\r\n\r\nexport const updateUserStatus = (status) => async (dispatch) => {\r\n\tconst data = await profileAPI.updateUserStatus(status)\r\n\tif(data.resultCode === 0) dispatch(setUserStatus(status))\r\n}\r\n\r\nexport const updateBioProfile = (profile) => async (dispatch, getState) => {\r\n\tconst userid = getState().auth.id\r\n\tlet data = await profileAPI.updateBioProfile(profile)\r\n\tif(data.resultCode === 0) {\r\n\t\tdispatch(getUserProfile(userid))\r\n\t\tdispatch(setUpdateBioSuccess(\"updating was successfully!\"))\r\n\t}\r\n}\r\n\r\nexport const savePhoto = (photo) => async (dispatch) => {\r\n\tconst data = await profileAPI.savePhoto(photo)\r\n\tdispatch(setUploadedPhoto(data.data.photos))\r\n\tdispatch(setUpdateBioSuccess(\"updating was successfully!\"))\r\n}\r\n\r\nexport const updateWasSuccessfully = (successStatus) => (dispatch) => {\r\n\t\tdispatch(setUpdateBioSuccess(successStatus))\r\n}\r\n\r\nexport const refreshProfileInSettings = () => (dispatch, getState) => {\r\n\tconst userid = getState().auth.id\r\n\tdispatch(getUserProfile(userid))\r\n}\r\n\r\n\r\nexport default profileReducer;","import {followedAPI, subscribeAPI, usersAPI} from \"../api/api\";\r\n\r\nconst SET_USERS_DATA = \"SET_USERS_DATA\";\r\nconst SET_TOTAL_COUNT = \"SET_TOTAL_COUNT\";\r\nconst SET_CURRENT_PAGE = \"SET_CURRENT_PAGE\";\r\nconst SET_TOGGLE_FOLLOW = \"SET_TOGGLE_FOLLOW\";\r\nconst SET_IS_FETCHING = \"SET_IS_FETCHING\";\r\nconst SET_FOLLOWING_IN_PROGRESS = \"SET_FOLLOWING_IN_PROGRESS\";\r\n\r\n\r\n// initial state for side-bar avatars (static)\r\nconst initialState = {\r\n\tusers: [],\r\n\tpageSize: 75,\r\n\tcurrentPage: 1,\r\n\ttotalCount: 0,\r\n\tisFetching: false,\r\n\tfollowingInProgress: []\r\n}\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase SET_USERS_DATA:\r\n\t\t\treturn {...state, users: action.payload}\r\n\r\n\t\tcase SET_TOTAL_COUNT:\r\n\t\t\treturn {...state, totalCount: action.payload}\r\n\r\n\t\tcase SET_CURRENT_PAGE:\r\n\t\t\treturn {...state, currentPage: action.payload}\r\n\r\n\t\tcase SET_IS_FETCHING:\r\n\t\t\treturn {...state, isFetching: action.payload}\r\n\r\n\t\tcase SET_FOLLOWING_IN_PROGRESS:\r\n\t\t\treturn {\r\n\t\t\t\t...state, followingInProgress: action.payload.isFollowing\r\n\t\t\t\t\t? [...state.followingInProgress, action.payload.userId]\r\n\t\t\t\t\t: state.followingInProgress.filter(id => id !== action.payload.userId)\r\n\t\t\t}\r\n\r\n\t\tcase SET_TOGGLE_FOLLOW:\r\n\t\t\treturn {...state, users: state.users.map(u => {\r\n\t\t\t\t\tif(action.payload === u.id && !u.followed) {\r\n\t\t\t\t\t\treturn{...u, followed: true}\r\n\t\t\t\t\t} else if (action.payload === u.id && u.followed) {\r\n\t\t\t\t\t\treturn {...u, followed: false}\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn u\r\n\t\t\t\t})}\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\n//action creators\r\nconst setUsers = (users) => ({type: SET_USERS_DATA, payload: users})\r\nconst setTotalCount = (totalCount) => ({type: SET_TOTAL_COUNT, payload: totalCount})\r\nconst setCurrentPage = (currentPage) => ({type: SET_CURRENT_PAGE, payload: currentPage})\r\nconst setToggleFollow = (userId) => ({type: SET_TOGGLE_FOLLOW, payload: userId})\r\nconst setIsFetching = (isFetching) => ({type: SET_IS_FETCHING, payload: isFetching})\r\nconst setFollowingInProgress = (isFollowing, userId) => ({type: SET_FOLLOWING_IN_PROGRESS, payload: {isFollowing, userId}})\r\n\r\n\r\n//thunk creators\r\n\r\n// receive users list\r\nexport const requestUsers = (currentPage, pageSize) => async (dispatch) => {\r\n\tdispatch(setCurrentPage(currentPage))\r\n\tdispatch(setIsFetching(true))\r\n\r\n\tconst data = await usersAPI.getUsers(currentPage, pageSize)\r\n\r\n\tdispatch(setIsFetching(false))\r\n\tdispatch(setTotalCount(data.totalCount))\r\n\tdispatch(setUsers(data.items))\r\n}\r\n\r\n// subscribe\r\nexport const followAccept = (userId) => async (dispatch) => {\r\n\r\n\tdispatch(setFollowingInProgress(true, userId))\r\n\r\n\tconst data = await subscribeAPI.follow(userId)\r\n\r\n\tif (data.resultCode === 0) {\r\n\t\tdispatch(setToggleFollow((userId)))\r\n\t\tdispatch(setFollowingInProgress(false, userId))\r\n\t}\r\n}\r\n\r\n// unsubscribe\r\nexport const unfollowAccept = (userId) => async (dispatch) => {\r\n\r\n\tdispatch(setFollowingInProgress(true, userId))\r\n\r\n\tconst data = await subscribeAPI.unfollow(userId)\r\n\tif (data.resultCode === 0) {\r\n\t\tdispatch(setToggleFollow((userId)))\r\n\t\tdispatch(setFollowingInProgress(false, userId))\r\n\t}\r\n}\r\n\r\nexport default usersReducer;","import {reset} from \"redux-form\";\r\n\r\nconst SEND_MY_MESSAGE_TEXT = \"SEND_MY_MESSAGE_TEXT\"\r\n\r\n\r\nconst initialState = {\r\n\tusersWithDialogs: [\r\n\t\t{\r\n\t\t\tid: 3450,\r\n\t\t\tuserImg: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT6b7WENFquctsWy8WgMSHmFJbVyJXf0lQ4R2XRAQcd2WgOK2IIfFlLUFcAcsdnpA8S_Wg&usqp=CAU',\r\n\t\t\tuserName: 'Andy'\r\n\t\t},\r\n\t\t{\r\n\t\t\tid: 4560,\r\n\t\t\tuserImg: 'https://image1.thematicnews.com/uploads/images/00/00/41/2015/04/30/ad358ed4d0.jpg',\r\n\t\t\tuserName: 'Panda'\r\n\t\t},\r\n\t\t{\r\n\t\t\tid: 2340,\r\n\t\t\tuserImg: 'https://wonder-day.com/wp-content/uploads/2020/03/Wonder-Day-Ava-105.jpg',\r\n\t\t\tuserName: 'Dasha'\r\n\t\t},\r\n\t\t{\r\n\t\t\tid: 3440,\r\n\t\t\tuserImg: 'https://www.meme-arsenal.com/memes/f0ffafb204862b25d0f1aa7fce251f3a.jpg',\r\n\t\t\tuserName: 'Niko'\r\n\t\t},\r\n\t\t{\r\n\t\t\tid: 4000,\r\n\t\t\tuserImg: 'https://drasler.ru/wp-content/uploads/2019/05/%D0%94%D0%B5%D0%B2%D1%83%D1%88%D0%BA%D0%B0-%D0%B1%D1%80%D1%8E%D0%BD%D0%B5%D1%82%D0%BA%D0%B0-%D0%BD%D0%B0%D1%80%D0%B8%D1%81%D0%BE%D0%B2%D0%B0%D0%BD%D0%BD%D0%B0%D1%8F-%D0%BA%D0%B0%D1%80%D1%82%D0%B8%D0%BD%D0%BA%D0%B8-%D0%B8-%D1%80%D0%B8%D1%81%D1%83%D0%BD%D0%BA%D0%B8023.jpg',\r\n\t\t\tuserName: 'July'\r\n\t\t},\r\n\t\t{\r\n\t\t\tid: 5567,\r\n\t\t\tuserImg: 'https://i2.wp.com/andrey-eltsov.ru/wp-content/uploads/2017/09/DopNaAvu1.jpg',\r\n\t\t\tuserName: 'Vlad'\r\n\t\t}\r\n\t],\r\n\tdialogsMessages: [{id: 0, message: 'hi'}, {id: 1, message: 'how are u?'}, {id: 2, message: 'maybe go beer?'}],\r\n}\r\n\r\nconst messagesReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\r\n\t\tcase SEND_MY_MESSAGE_TEXT:\r\n\t\t\tif(action.payload && action.payload.replace(/\\s/g, \"\")) {\r\n\t\t\treturn {...state, dialogsMessages: [...state.dialogsMessages, {\r\n\t\t\t\tid: 3,\r\n\t\t\t\tmessage: action.payload\r\n\t\t\t\t}]}\r\n\t\t\t}\r\n\t\t\treturn state\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\n//action creators\r\nexport const sendMyMessage = (body) => ({type: SEND_MY_MESSAGE_TEXT, payload: body})\r\n\r\n\r\n// thunk creators\r\n\r\n// send message in dialogs\r\nexport const sendMessage = (userId, body) => (dispatch) => {\r\n\tdispatch(sendMyMessage(body))\r\n\tdispatch(reset(\"addDialogMessageForm\"))\r\n}\r\n\r\nexport default messagesReducer;"],"sourceRoot":""}